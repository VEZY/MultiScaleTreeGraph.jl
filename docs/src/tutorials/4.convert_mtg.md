# Converting MTGs

```@setup usepkg
using MultiScaleTreeGraph
file = joinpath(dirname(dirname(pathof(MultiScaleTreeGraph))),"test","files","simple_plant.mtg")
mtg = read_mtg(file)
```

We can do a lot using the MTG format, but sometimes we want our data in another format.

That's why `MultiScaleTreeGraph.jl` provides functions to expose an MTG as a `Tables.jl` source, or convert it into a graph.

## MTG to table

To get a unified table view of the MTG, you can use:

```@example usepkg
tbl = mtg_table(mtg)
```

The unified table reports MTG topology columns plus all attributes:

- node_id: the unique ID of the node in the whole MTG
- symbol: the node symbol
- scale: the node scale
- index: the node index
- parent_id: the node's parent id
- link: the link between the node and its parent

If you only need a few attributes, you can select them directly:

```@example usepkg
mtg_table(mtg, [:Width, :Length])
```

It is also possible to get a per-symbol table:

```@example usepkg
leaf_tbl = symbol_table(mtg, :Leaf)
```

Per-symbol tables can also select attributes:

```@example usepkg
symbol_table(mtg, :Leaf, [:Width, :Length])
```

If you use `DataFrames.jl` in your own project, `DataFrame(mtg)` still works because MTGs implement the `Tables.jl` interface.

```julia
using DataFrames
df = DataFrame(mtg)
```

## MTG to MetaGraph

We can convert an MTG into a MetaGraph using `MetaGraph()`:

```@example usepkg
mg = MetaGraph(mtg)
```

This is particularly useful if you want to benefit from the algorithm provided by [Graphs.jl](https://github.com/JuliaGraphs/Graphs.jl) and [MetaGraphsNext.jl](https://github.com/JuliaGraphs/MetaGraphsNext.jl), such as writing into more standard formats such as DOTFormat or MGFormat (or any other available from [GraphIO.jl](https://github.com/JuliaGraphs/GraphIO.jl)), plotting with [GraphPlot.jl](https://juliagraphs.org/GraphPlot.jl/) or [NetworkLayout.jl](https://github.com/JuliaGraphs/NetworkLayout.jl), or computing *e.g.* flow with [GraphsFlows.jl](https://github.com/JuliaGraphs/GraphsFlows.jl).
